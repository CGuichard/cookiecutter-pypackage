# Tox configuration file
# Read more under https://tox.wiki/

[tox]
minversion = 4.0.0
{%- if cookiecutter.python_min == "3.10" %}
envlist = py310, py311, py312, py313
{%- elif cookiecutter.python_min == "3.11" %}
envlist = py311, py312, py313
{%- elif cookiecutter.python_min == "3.12" %}
envlist = py312, py313
{%- elif cookiecutter.python_min == "3.13" %}
envlist = py313
{%- endif %}

[testenv]
description = Invoke pytest to run tests
package = editable
dependency_groups = test
commands =
    pytest \
        --junit-xml=tests-reports/{envname}/junit-report.xml \
        # pytest-cov
        --cov-report=html:tests-reports/{envname}/coverage-html \
        --cov-report=xml:tests-reports/{envname}/coverage.xml \
        # pytest-html
        --html=tests-reports/{envname}/index.html \
        --self-contained-html \
        {posargs}
setenv =
    COVERAGE_FILE=tests-reports/{envname}/coverage-data
